6080604052600436106101d85760003560e01c806370a0823111610102578063c23dc68f11610095578063e71ef8d611610064578063e71ef8d61461057e578063e985e9c514610593578063f8f5e28e146105dc578063fb1a3a90146105f857600080fd5b8063c23dc68f14610516578063c676893514610543578063c87b56dd14610556578063cd0596591461057657600080fd5b806395d89b41116100d157806395d89b41146104a157806399a2557a146104b6578063a22cb465146104d6578063b88d4fde146104f657600080fd5b806370a08231146104015780637b76ac91146104215780637d12515f146104545780638462151c1461047457600080fd5b80632a55205a1161017a578063611f3f1011610149578063611f3f101461039d57806362f408ed146103b95780636352211e146103cc5780636c0360eb146103ec57600080fd5b80632a55205a146102f157806342842e0e146103305780634f3e9a1c146103505780635bbb21771461037057600080fd5b8063095ea7b3116101b6578063095ea7b31461026c578063148ff6c81461028e57806318160ddd146102b857806323b872dd146102d157600080fd5b806301ffc9a7146101dd57806306fdde0314610212578063081812fc14610234575b600080fd5b3480156101e957600080fd5b506101fd6101f836600461225b565b610618565b60405190151581526020015b60405180910390f35b34801561021e57600080fd5b50610227610638565b60405161020991906122c8565b34801561024057600080fd5b5061025461024f3660046122db565b6106ca565b6040516001600160a01b039091168152602001610209565b34801561027857600080fd5b5061028c610287366004612310565b610727565b005b34801561029a57600080fd5b506102aa670162ea854d0fc00081565b604051908152602001610209565b3480156102c457600080fd5b50600354600254036102aa565b3480156102dd57600080fd5b5061028c6102ec36600461233a565b6107df565b3480156102fd57600080fd5b5061031161030c366004612376565b6109b5565b604080516001600160a01b039093168352602083019190915201610209565b34801561033c57600080fd5b5061028c61034b36600461233a565b610a72565b34801561035c57600080fd5b506101fd61036b3660046123f2565b610a92565b34801561037c57600080fd5b5061039061038b366004612447565b610b8d565b60405161020991906124bc565b3480156103a957600080fd5b506102aa67018a59e97211800081565b61028c6103c736600461254a565b610c59565b3480156103d857600080fd5b506102546103e73660046122db565b610f78565b3480156103f857600080fd5b50610227610f83565b34801561040d57600080fd5b506102aa61041c3660046125b0565b611011565b34801561042d57600080fd5b50600b5461044290600160a01b900460ff1681565b60405160ff9091168152602001610209565b34801561046057600080fd5b5061028c61046f366004612657565b611079565b34801561048057600080fd5b5061049461048f3660046125b0565b6110b4565b60405161020991906126a0565b3480156104ad57600080fd5b506102276111b5565b3480156104c257600080fd5b506104946104d13660046126d8565b6111c4565b3480156104e257600080fd5b5061028c6104f136600461270b565b611355565b34801561050257600080fd5b5061028c610511366004612747565b611403565b34801561052257600080fd5b506105366105313660046122db565b611447565b60405161020991906127c3565b61028c610551366004612808565b6114bf565b34801561056257600080fd5b506102276105713660046122db565b6115e3565b61028c61167f565b34801561058a57600080fd5b5061028c611707565b34801561059f57600080fd5b506101fd6105ae366004612832565b6001600160a01b03918216600090815260096020908152604080832093909416825291909152205460ff1690565b3480156105e857600080fd5b506102aa67013b7b21280e000081565b34801561060457600080fd5b5061028c6106133660046122db565b611767565b600061062382611772565b806106325750610632826117f2565b92915050565b60606004805461064790612865565b80601f016020809104026020016040519081016040528092919081815260200182805461067390612865565b80156106c05780601f10610695576101008083540402835291602001916106c0565b820191906000526020600020905b8154815290600101906020018083116106a357829003601f168201915b5050505050905090565b60006106d582611840565b61070b576040517fcf4700e400000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b506000908152600860205260409020546001600160a01b031690565b600061073282610f78565b9050336001600160a01b0382161461076b5761074e81336105ae565b61076b576040516367d9dca160e11b815260040160405180910390fd5b60008281526008602052604080822080547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b60006107ea82611868565b9050836001600160a01b0316816001600160a01b031614610837576040517fa114810000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600082815260086020526040902080546108638187335b6001600160a01b039081169116811491141790565b61088e5761087186336105ae565b61088e57604051632ce44b5f60e11b815260040160405180910390fd5b6001600160a01b0385166108ce576040517fea553b3400000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b80156108d957600082555b6001600160a01b038681166000908152600760205260408082208054600019019055918716808252919020805460010190554260a01b17600160e11b17600085815260066020526040812091909155600160e11b8416900361096b576001840160008181526006602052604081205490036109695760025481146109695760008181526006602052604090208490555b505b83856001600160a01b0316876001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45b505050505050565b60008281526001602090815260408083208151808301909252546001600160a01b038116808352600160a01b9091046bffffffffffffffffffffffff16928201929092528291610a345750604080518082019091526000546001600160a01b0381168252600160a01b90046bffffffffffffffffffffffff1660208201525b602081015160009061271090610a58906bffffffffffffffffffffffff16876128af565b610a6291906128ce565b91519350909150505b9250929050565b610a8d83838360405180602001604052806000815250611403565b505050565b600080610b267f13e48aed635f78d4d651594c6dd2e4f6d545ca10c57393f185a05c50fa97f00733610aca60408701602088016128f0565b610ada60608801604089016128f0565b6040805160208101959095526001600160a01b039093169284019290925260ff908116606084015216608082015260a001604051602081830303815290604052805190602001206118e8565b600a54604080516020601f89018190048102820181019092528781529293506001600160a01b0390911691610b7891849190899089908190840183828082843760009201919091525061195192505050565b6001600160a01b0316149150505b9392505050565b60608160008167ffffffffffffffff811115610bab57610bab6125cb565b604051908082528060200260200182016040528015610bfd57816020015b604080516080810182526000808252602080830182905292820181905260608201528252600019909201910181610bc95790505b50905060005b828114610c5057610c2b868683818110610c1f57610c1f61290b565b90506020020135611447565b828281518110610c3d57610c3d61290b565b6020908102919091010152600101610c03565b50949350505050565b610c6660208301836125b0565b6001600160a01b0316336001600160a01b031614610cb0576040517f964be86a00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b610cbb848484610a92565b610cf1576040517fa9cb5f1100000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b610d0160608301604084016128f0565b60ff168160ff16610d35336001600160a01b03166000908152600760205260409081902054901c67ffffffffffffffff1690565b610d3f9190612921565b1115610d77576040517f9d835a0a00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6113888160ff16610d8b6003546002540390565b610d959190612921565b1115610db45760405163c30436e960e01b815260040160405180910390fd5b600b54600160a01b900460ff16600103610e0257610ddd60ff821667013b7b21280e00006128af565b341015610dfd5760405163217091f360e21b815260040160405180910390fd5b610e60565b600b54600160a01b900460ff16600203610e2b57610ddd60ff821667013b7b21280e00006128af565b610e4060ff821667018a59e9721180006128af565b341015610e605760405163217091f360e21b815260040160405180910390fd5b610e6d338260ff16611975565b610e7d60408301602084016128f0565b60ff1615610f7257611388610e9860408401602085016128f0565b60ff16610ea86003546002540390565b610eb29190612921565b11610f72573360009081526007602052604081205460c01c9003610f7257610eec33610ee460408501602086016128f0565b60ff16611975565b610f7233610f0060408501602086016128f0565b60ff16610f25336001600160a01b031660009081526007602052604090205460c01c90565b610f2f9190612934565b6001600160a01b039091166000908152600760205260409020805477ffffffffffffffffffffffffffffffffffffffffffffffff1660c09290921b919091179055565b50505050565b600061063282611868565b600c8054610f9090612865565b80601f0160208091040260200160405190810160405280929190818152602001828054610fbc90612865565b80156110095780601f10610fde57610100808354040283529160200191611009565b820191906000526020600020905b815481529060010190602001808311610fec57829003601f168201915b505050505081565b60006001600160a01b038216611053576040517f8f4eb60400000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b506001600160a01b031660009081526007602052604090205467ffffffffffffffff1690565b600b546001600160a01b031633146110a4576040516367d9dca160e11b815260040160405180910390fd5b600c6110b082826129a2565b5050565b606060008060006110c485611011565b905060008167ffffffffffffffff8111156110e1576110e16125cb565b60405190808252806020026020018201604052801561110a578160200160208202803683370190505b5060408051608081018252600080825260208201819052918101829052606081018290529192505b8386146111a95761114281611aa6565b915081604001516111a15781516001600160a01b03161561116257815194505b876001600160a01b0316856001600160a01b0316036111a157808387806001019850815181106111945761119461290b565b6020026020010181815250505b600101611132565b50909695505050505050565b60606005805461064790612865565b60608183106111ff576040517f32c1995a00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60008061120b60025490565b905080841115611219578093505b600061122487611011565b905084861015611243578585038181101561123d578091505b50611247565b5060005b60008167ffffffffffffffff811115611262576112626125cb565b60405190808252806020026020018201604052801561128b578160200160208202803683370190505b509050816000036112a1579350610b8692505050565b60006112ac88611447565b9050600081604001516112bd575080515b885b8881141580156112cf5750848714155b15611344576112dd81611aa6565b9250826040015161133c5782516001600160a01b0316156112fd57825191505b8a6001600160a01b0316826001600160a01b03160361133c578084888060010199508151811061132f5761132f61290b565b6020026020010181815250505b6001016112bf565b505050928352509095945050505050565b336001600160a01b03831603611397576040517fb06307db00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b3360008181526009602090815260408083206001600160a01b03871680855290835292819020805460ff191686151590811790915590519081529192917f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a35050565b61140e8484846107df565b6001600160a01b0383163b15610f725761142a84848484611b25565b610f72576040516368d2bf6b60e11b815260040160405180910390fd5b604080516080808201835260008083526020808401829052838501829052606080850183905285519384018652828452908301829052938201819052928101839052909150600254831061149b5792915050565b6114a483611aa6565b90508060400151156114b65792915050565b610b8683611c11565b600b546003600160a01b90910460ff161015611507576040517fac4d09c700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b61152367ffffffffffffffff821667018a59e9721180006128af565b3410156115435760405163217091f360e21b815260040160405180910390fd5b60148167ffffffffffffffff161115611588576040517f365aabab00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6113888167ffffffffffffffff166115a36003546002540390565b6115ad9190612921565b11156115cc5760405163c30436e960e01b815260040160405180910390fd5b6115e0338267ffffffffffffffff16611975565b50565b60606115ee82611840565b611624576040517fa14c4b5000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600061162e611c89565b9050805160000361164e5760405180602001604052806000815250610b86565b8061165884611c98565b604051602001611669929190612a62565b6040516020818303038152906040529392505050565b734bd4660654bd0458ce21d8c21e47f811c2b409566108fc6116a2600a476128ce565b6116ad9060046128af565b6040518115909202916000818181858888f193505050506116cd57600080fd5b6040517395975deeea11a798d3737e0badb821ecd38cced9904780156108fc02916000818181858888f1935050505061170557600080fd5b565b600b546001600160a01b03163314611732576040516367d9dca160e11b815260040160405180910390fd5b600b8054600160a01b900460ff1690601461174c83612a91565b91906101000a81548160ff021916908360ff16021790555050565b6115e0816001611cd0565b60006301ffc9a760e01b6001600160e01b0319831614806117bc57507f80ac58cd000000000000000000000000000000000000000000000000000000006001600160e01b03198316145b806106325750506001600160e01b0319167f5b5e139f000000000000000000000000000000000000000000000000000000001490565b60006001600160e01b031982167f2a55205a00000000000000000000000000000000000000000000000000000000148061063257506301ffc9a760e01b6001600160e01b0319831614610632565b600060025482108015610632575050600090815260066020526040902054600160e01b161590565b6000816002548110156118b65760008181526006602052604081205490600160e01b821690036118b4575b80600003610b86575060001901600081815260066020526040902054611893565b505b6040517fdf2d9b4200000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60006106326118f5611e34565b836040517f19010000000000000000000000000000000000000000000000000000000000006020820152602281018390526042810182905260009060620160405160208183030381529060405280519060200120905092915050565b60008060006119608585611f5b565b9150915061196d81611f9d565b509392505050565b60025460008290036119b3576040517fb562e8dd00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6001600160a01b03831660008181526007602090815260408083208054680100000000000000018802019055848352600690915281206001851460e11b4260a01b178317905582840190839083907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8180a4600183015b818114611a6257808360007fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef600080a4600101611a2a565b5081600003611a9d576040517f2e07630000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60025550505050565b60408051608081018252600080825260208201819052918101829052606081019190915260008281526006602052604090205461063290604080516080810182526001600160a01b038316815260a083901c67ffffffffffffffff166020820152600160e01b831615159181019190915260e89190911c606082015290565b604051630a85bd0160e11b81526000906001600160a01b0385169063150b7a0290611b5a903390899088908890600401612ab0565b6020604051808303816000875af1925050508015611b95575060408051601f3d908101601f19168201909252611b9291810190612aec565b60015b611bf3573d808015611bc3576040519150601f19603f3d011682016040523d82523d6000602084013e611bc8565b606091505b508051600003611beb576040516368d2bf6b60e11b815260040160405180910390fd5b805181602001fd5b6001600160e01b031916630a85bd0160e11b1490505b949350505050565b604080516080810182526000808252602082018190529181018290526060810191909152610632611c4183611868565b604080516080810182526001600160a01b038316815260a083901c67ffffffffffffffff166020820152600160e01b831615159181019190915260e89190911c606082015290565b6060600c805461064790612865565b604080516080019081905280825b600183039250600a81066030018353600a900480611ca65750819003601f19909101908152919050565b6000611cdb83611868565b905080600080611cf986600090815260086020526040902080549091565b915091508415611d3957611d0e81843361084e565b611d3957611d1c83336105ae565b611d3957604051632ce44b5f60e11b815260040160405180910390fd5b8015611d4457600082555b6001600160a01b038316600081815260076020526040902080546fffffffffffffffffffffffffffffffff0190554260a01b177c030000000000000000000000000000000000000000000000000000000017600087815260066020526040812091909155600160e11b85169003611deb57600186016000818152600660205260408120549003611de9576002548114611de95760008181526006602052604090208590555b505b60405186906000906001600160a01b038616907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908390a4505060038054600101905550505050565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015611e8d57507f000000000000000000000000000000000000000000000000000000000000000046145b15611eb757507f000000000000000000000000000000000000000000000000000000000000000090565b50604080517f00000000000000000000000000000000000000000000000000000000000000006020808301919091527f0000000000000000000000000000000000000000000000000000000000000000828401527f000000000000000000000000000000000000000000000000000000000000000060608301524660808301523060a0808401919091528351808403909101815260c0909201909252805191012090565b6000808251604103611f915760208301516040840151606085015160001a611f8587828585612158565b94509450505050610a6b565b50600090506002610a6b565b6000816004811115611fb157611fb1612b09565b03611fb95750565b6001816004811115611fcd57611fcd612b09565b0361201f5760405162461bcd60e51b815260206004820152601860248201527f45434453413a20696e76616c6964207369676e6174757265000000000000000060448201526064015b60405180910390fd5b600281600481111561203357612033612b09565b036120805760405162461bcd60e51b815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e677468006044820152606401612016565b600381600481111561209457612094612b09565b036120ec5760405162461bcd60e51b815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c604482015261756560f01b6064820152608401612016565b600481600481111561210057612100612b09565b036115e05760405162461bcd60e51b815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202776272076616c604482015261756560f01b6064820152608401612016565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a083111561218f575060009050600361223c565b8460ff16601b141580156121a757508460ff16601c14155b156121b8575060009050600461223c565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa15801561220c573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166122355760006001925092505061223c565b9150600090505b94509492505050565b6001600160e01b0319811681146115e057600080fd5b60006020828403121561226d57600080fd5b8135610b8681612245565b60005b8381101561229357818101518382015260200161227b565b50506000910152565b600081518084526122b4816020860160208601612278565b601f01601f19169290920160200192915050565b602081526000610b86602083018461229c565b6000602082840312156122ed57600080fd5b5035919050565b80356001600160a01b038116811461230b57600080fd5b919050565b6000806040838503121561232357600080fd5b61232c836122f4565b946020939093013593505050565b60008060006060848603121561234f57600080fd5b612358846122f4565b9250612366602085016122f4565b9150604084013590509250925092565b6000806040838503121561238957600080fd5b50508035926020909101359150565b60008083601f8401126123aa57600080fd5b50813567ffffffffffffffff8111156123c257600080fd5b602083019150836020828501011115610a6b57600080fd5b6000606082840312156123ec57600080fd5b50919050565b60008060006080848603121561240757600080fd5b833567ffffffffffffffff81111561241e57600080fd5b61242a86828701612398565b909450925061243e905085602086016123da565b90509250925092565b6000806020838503121561245a57600080fd5b823567ffffffffffffffff8082111561247257600080fd5b818501915085601f83011261248657600080fd5b81358181111561249557600080fd5b8660208260051b85010111156124aa57600080fd5b60209290920196919550909350505050565b6020808252825182820181905260009190848201906040850190845b818110156111a9576125268385516001600160a01b03815116825267ffffffffffffffff602082015116602083015260408101511515604083015262ffffff60608201511660608301525050565b92840192608092909201916001016124d8565b803560ff8116811461230b57600080fd5b60008060008060a0858703121561256057600080fd5b843567ffffffffffffffff81111561257757600080fd5b61258387828801612398565b9095509350612597905086602087016123da565b91506125a560808601612539565b905092959194509250565b6000602082840312156125c257600080fd5b610b86826122f4565b634e487b7160e01b600052604160045260246000fd5b600067ffffffffffffffff808411156125fc576125fc6125cb565b604051601f8501601f19908116603f01168101908282118183101715612624576126246125cb565b8160405280935085815286868601111561263d57600080fd5b858560208301376000602087830101525050509392505050565b60006020828403121561266957600080fd5b813567ffffffffffffffff81111561268057600080fd5b8201601f8101841361269157600080fd5b611c09848235602084016125e1565b6020808252825182820181905260009190848201906040850190845b818110156111a9578351835292840192918401916001016126bc565b6000806000606084860312156126ed57600080fd5b6126f6846122f4565b95602085013595506040909401359392505050565b6000806040838503121561271e57600080fd5b612727836122f4565b91506020830135801515811461273c57600080fd5b809150509250929050565b6000806000806080858703121561275d57600080fd5b612766856122f4565b9350612774602086016122f4565b925060408501359150606085013567ffffffffffffffff81111561279757600080fd5b8501601f810187136127a857600080fd5b6127b7878235602084016125e1565b91505092959194509250565b81516001600160a01b0316815260208083015167ffffffffffffffff169082015260408083015115159082015260608083015162ffffff169082015260808101610632565b60006020828403121561281a57600080fd5b813567ffffffffffffffff81168114610b8657600080fd5b6000806040838503121561284557600080fd5b61284e836122f4565b915061285c602084016122f4565b90509250929050565b600181811c9082168061287957607f821691505b6020821081036123ec57634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b60008160001904831182151516156128c9576128c9612899565b500290565b6000826128eb57634e487b7160e01b600052601260045260246000fd5b500490565b60006020828403121561290257600080fd5b610b8682612539565b634e487b7160e01b600052603260045260246000fd5b8082018082111561063257610632612899565b67ffffffffffffffff81811683821601908082111561295557612955612899565b5092915050565b601f821115610a8d57600081815260208120601f850160051c810160208610156129835750805b601f850160051c820191505b818110156109ad5782815560010161298f565b815167ffffffffffffffff8111156129bc576129bc6125cb565b6129d0816129ca8454612865565b8461295c565b602080601f831160018114612a0557600084156129ed5750858301515b600019600386901b1c1916600185901b1785556109ad565b600085815260208120601f198616915b82811015612a3457888601518255948401946001909101908401612a15565b5085821015612a525787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60008351612a74818460208801612278565b835190830190612a88818360208801612278565b01949350505050565b600060ff821660ff8103612aa757612aa7612899565b60010192915050565b60006001600160a01b03808716835280861660208401525083604083015260806060830152612ae2608083018461229c565b9695505050505050565b600060208284031215612afe57600080fd5b8151610b8681612245565b634e487b7160e01b600052602160045260246000fdfea264697066735822122033a158c1ba387d2cf54c98253172a46d6278bf4d4b3fa38867a8dd3075c6a99664736f6c63430008100033