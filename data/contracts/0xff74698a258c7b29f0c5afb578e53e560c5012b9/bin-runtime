60806040526004361061027d5760003560e01c80638462151c1161014f578063a945bf80116100c1578063d5abeb011161007a578063d5abeb0114610752578063da1b9e0814610768578063dab5f34014610788578063e985e9c5146107a8578063f2fde38b146107f1578063fe5074811461081157600080fd5b8063a945bf801461069c578063b2cabb71146106b2578063b88d4fde146106d2578063c1f26123146106e5578063c23dc68f14610705578063c87b56dd1461073257600080fd5b806395d89b411161011357806395d89b41146105f157806399a2557a14610606578063a0355eca14610626578063a22cb46514610646578063a886c37714610666578063a927f6671461067c57600080fd5b80638462151c1461054657806388d15d50146105735780638da5cb5b1461059357806391b7f5ed146105b15780639456fbcc146105d157600080fd5b806342842e0e116101f3578063690d8320116101ac578063690d8320146104965780636c0360eb146104b6578063709ec8b4146104cb57806370a08231146104fb578063715018a61461051b5780637f942b5f1461053057600080fd5b806342842e0e146103ea57806347513334146103fd57806355f804b3146104135780635bbb2177146104335780635fd1bbc4146104605780636352211e1461047657600080fd5b806323b872dd1161024557806323b872dd146103495780632c27e5811461035c5780632db1154414610372578063389fcf06146103855780633a367a67146103b55780633b4c4b25146103ca57600080fd5b806301ffc9a71461028257806306fdde03146102b7578063081812fc146102d9578063095ea7b31461031157806318160ddd14610326575b600080fd5b34801561028e57600080fd5b506102a261029d366004612618565b610831565b60405190151581526020015b60405180910390f35b3480156102c357600080fd5b506102cc610883565b6040516102ae9190612967565b3480156102e557600080fd5b506102f96102f43660046125ff565b610915565b6040516001600160a01b0390911681526020016102ae565b61032461031f3660046124ea565b610959565b005b34801561033257600080fd5b50600154600054035b6040519081526020016102ae565b6103246103573660046123fc565b6109f9565b34801561036857600080fd5b5061033b60105481565b6103246103803660046125ff565b610b97565b34801561039157600080fd5b506102a26103a0366004612257565b60146020526000908152604090205460ff1681565b3480156103c157600080fd5b506102cc610cec565b3480156103d657600080fd5b506103246103e53660046125ff565b610d7a565b6103246103f83660046123fc565b610d87565b34801561040957600080fd5b5061033b60135481565b34801561041f57600080fd5b5061032461042e366004612652565b610da7565b34801561043f57600080fd5b5061045361044e36600461254b565b610dc6565b6040516102ae91906128ed565b34801561046c57600080fd5b5061033b600f5481565b34801561048257600080fd5b506102f96104913660046125ff565b610e91565b3480156104a257600080fd5b506103246104b1366004612257565b610e9c565b3480156104c257600080fd5b506102cc610f3a565b3480156104d757600080fd5b506102a26104e63660046125ff565b600c6020526000908152604090205460ff1681565b34801561050757600080fd5b5061033b610516366004612257565b610f47565b34801561052757600080fd5b50610324610f95565b34801561053c57600080fd5b5061033b60125481565b34801561055257600080fd5b50610566610561366004612257565b610fa9565b6040516102ae919061292f565b34801561057f57600080fd5b5061032461058e36600461254b565b6110b8565b34801561059f57600080fd5b506008546001600160a01b03166102f9565b3480156105bd57600080fd5b506103246105cc3660046125ff565b61135d565b3480156105dd57600080fd5b506103246105ec366004612274565b61136a565b3480156105fd57600080fd5b506102cc611471565b34801561061257600080fd5b50610566610621366004612516565b611480565b34801561063257600080fd5b506103246106413660046126b3565b6115fd565b34801561065257600080fd5b506103246106613660046124bc565b611610565b34801561067257600080fd5b5061033b60115481565b34801561068857600080fd5b50610324610697366004612311565b61167c565b3480156106a857600080fd5b5061033b600e5481565b3480156106be57600080fd5b506103246106cd36600461258c565b6116fa565b6103246106e036600461243d565b611769565b3480156106f157600080fd5b506103246107003660046125ff565b6117ad565b34801561071157600080fd5b506107256107203660046125ff565b6117fa565b6040516102ae91906129b1565b34801561073e57600080fd5b506102cc61074d3660046125ff565b611872565b34801561075e57600080fd5b5061033b60095481565b34801561077457600080fd5b50610324610783366004612652565b6119ba565b34801561079457600080fd5b506103246107a33660046125ff565b6119d5565b3480156107b457600080fd5b506102a26107c3366004612274565b6001600160a01b03918216600090815260076020908152604080832093909416825291909152205460ff1690565b3480156107fd57600080fd5b5061032461080c366004612257565b6119e2565b34801561081d57600080fd5b5061032461082c3660046122ad565b611a58565b60006301ffc9a760e01b6001600160e01b03198316148061086257506380ac58cd60e01b6001600160e01b03198316145b8061087d5750635b5e139f60e01b6001600160e01b03198316145b92915050565b60606002805461089290612a4d565b80601f01602080910402602001604051908101604052809291908181526020018280546108be90612a4d565b801561090b5780601f106108e05761010080835404028352916020019161090b565b820191906000526020600020905b8154815290600101906020018083116108ee57829003601f168201915b5050505050905090565b600061092082611b17565b61093d576040516333d1c03960e21b815260040160405180910390fd5b506000908152600660205260409020546001600160a01b031690565b600061096482610e91565b9050336001600160a01b0382161461099d5761098081336107c3565b61099d576040516367d9dca160e11b815260040160405180910390fd5b60008281526006602052604080822080546001600160a01b0319166001600160a01b0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b6000610a0482611b3e565b9050836001600160a01b0316816001600160a01b031614610a375760405162a1148160e81b815260040160405180910390fd5b60008281526006602052604090208054338082146001600160a01b03881690911417610a8457610a6786336107c3565b610a8457604051632ce44b5f60e11b815260040160405180910390fd5b6001600160a01b038516610aab57604051633a954ecd60e21b815260040160405180910390fd5b610ab88686866001611b9f565b8015610ac357600082555b6001600160a01b038681166000908152600560205260408082208054600019019055918716808252919020805460010190554260a01b17600160e11b17600085815260046020526040902055600160e11b8316610b4e5760018401600081815260046020526040902054610b4c576000548114610b4c5760008181526004602052604090208490555b505b83856001600160a01b0316876001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050505050565b6002600d541415610bef5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064015b60405180910390fd5b6002600d55600f544210801590610c0857506010544211155b610c435760405162461bcd60e51b815260206004820152600c60248201526b4d75737420696e2074696d6560a01b6044820152606401610be6565b80600e54610c5191906129eb565b341015610ca05760405162461bcd60e51b815260206004820152601760248201527f4d7573742067726561746572207468616e2076616c75650000000000000000006044820152606401610be6565b60095481610cb16001546000540390565b610cbb91906129bf565b1115610cd95760405162461bcd60e51b8152600401610be69061297a565b610ce4335b82611c12565b506001600d55565b600a8054610cf990612a4d565b80601f0160208091040260200160405190810160405280929190818152602001828054610d2590612a4d565b8015610d725780601f10610d4757610100808354040283529160200191610d72565b820191906000526020600020905b815481529060010190602001808311610d5557829003601f168201915b505050505081565b610d82611d16565b601355565b610da283838360405180602001604052806000815250611769565b505050565b610daf611d16565b8051610dc290600b9060208401906120fe565b5050565b6060816000816001600160401b03811115610de357610de3612af9565b604051908082528060200260200182016040528015610e3557816020015b604080516080810182526000808252602080830182905292820181905260608201528252600019909201910181610e015790505b50905060005b828114610e8857610e63868683818110610e5757610e57612ae3565b905060200201356117fa565b828281518110610e7557610e75612ae3565b6020908102919091010152600101610e3b565b50949350505050565b600061087d82611b3e565b610ea4611d16565b6000816001600160a01b03164760405160006040518083038185875af1925050503d8060008114610ef1576040519150601f19603f3d011682016040523d82523d6000602084013e610ef6565b606091505b5050905080610dc25760405162461bcd60e51b815260206004820152601060248201526f2a3930b739b332b9103330b4b632b21760811b6044820152606401610be6565b600b8054610cf990612a4d565b60006001600160a01b038216610f70576040516323d3ad8160e21b815260040160405180910390fd5b506001600160a01b03166000908152600560205260409020546001600160401b031690565b610f9d611d16565b610fa76000611d70565b565b60606000806000610fb985610f47565b90506000816001600160401b03811115610fd557610fd5612af9565b604051908082528060200260200182016040528015610ffe578160200160208202803683370190505b50905061102b60408051608081018252600080825260208201819052918101829052606081019190915290565b60005b8386146110ac5761103e81611dc2565b915081604001511561104f576110a4565b81516001600160a01b03161561106457815194505b876001600160a01b0316856001600160a01b031614156110a4578083878060010198508151811061109757611097612ae3565b6020026020010181815250505b60010161102e565b50909695505050505050565b6002600d54141561110b5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610be6565b6002600d556040516bffffffffffffffffffffffff193360601b16602082015260019060009060340160405160208183030381529060405280519060200120905061118d848480806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250506011549150849050611dfe565b6111d95760405162461bcd60e51b815260206004820152601a60248201527f4d65726b6c6520766572696669636174696f6e206661696c65640000000000006044820152606401610be6565b3360009081526014602052604090205460ff161561122f5760405162461bcd60e51b8152602060048201526013602482015272105b1c9958591e48199c9959481b5a5b9d1959606a1b6044820152606401610be6565b600f54421015801561124357506010544211155b61127e5760405162461bcd60e51b815260206004820152600c60248201526b4d75737420696e2074696d6560a01b6044820152606401610be6565b6009548261128f6001546000540390565b61129991906129bf565b11156112b75760405162461bcd60e51b8152600401610be69061297a565b601354826012546112c891906129bf565b11156113165760405162461bcd60e51b815260206004820152601d60248201527f4d757374206c6f776572207468616e206d617846726565537570706c790000006044820152606401610be6565b6113203383611c12565b816012600082825461133291906129bf565b9091555050336000908152601460205260409020805460ff19166001908117909155600d5550505050565b611365611d16565b600e55565b611372611d16565b6040516370a0823160e01b81523060048201526001600160a01b0383169063a9059cbb90839083906370a082319060240160206040518083038186803b1580156113bb57600080fd5b505afa1580156113cf573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113f3919061269a565b6040516001600160e01b031960e085901b1681526001600160a01b0390921660048301526024820152604401602060405180830381600087803b15801561143957600080fd5b505af115801561144d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610da291906125e2565b60606003805461089290612a4d565b60608183106114a257604051631960ccad60e11b815260040160405180910390fd5b6000806114ae60005490565b9050808411156114bc578093505b60006114c787610f47565b9050848610156114e657858503818110156114e0578091505b506114ea565b5060005b6000816001600160401b0381111561150457611504612af9565b60405190808252806020026020018201604052801561152d578160200160208202803683370190505b509050816115405793506115f692505050565b600061154b886117fa565b90506000816040015161155c575080515b885b88811415801561156e5750848714155b156115ea5761157c81611dc2565b925082604001511561158d576115e2565b82516001600160a01b0316156115a257825191505b8a6001600160a01b0316826001600160a01b031614156115e257808488806001019950815181106115d5576115d5612ae3565b6020026020010181815250505b60010161155e565b50505092835250909150505b9392505050565b611605611d16565b600f91909155601055565b3360008181526007602090815260408083206001600160a01b03871680855290835292819020805460ff191686151590811790915590519081529192917f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a35050565b611684611d16565b604051631759616b60e11b81526001600160a01b03891690632eb2c2d6906116be9030908b908b908b908b908b908b908b90600401612836565b600060405180830381600087803b1580156116d857600080fd5b505af11580156116ec573d6000803e3d6000fd5b505050505050505050505050565b611702611d16565b60005b828110156117635781600c600086868581811061172457611724612ae3565b90506020020135815260200190815260200160002060006101000a81548160ff021916908315150217905550808061175b90612a88565b915050611705565b50505050565b6117748484846109f9565b6001600160a01b0383163b156117635761179084848484611e14565b611763576040516368d2bf6b60e11b815260040160405180910390fd5b6117b5611d16565b600954816117c66001546000540390565b6117d091906129bf565b11156117ee5760405162461bcd60e51b8152600401610be69061297a565b6117f733610cde565b50565b604080516080808201835260008083526020808401829052838501829052606080850183905285519384018652828452908301829052938201819052928101839052909150600054831061184e5792915050565b61185783611dc2565b90508060400151156118695792915050565b6115f683611f0c565b606061187d82611b17565b6118e15760405162461bcd60e51b815260206004820152602f60248201527f4552433732314d657461646174613a2055524920717565727920666f72206e6f60448201526e3732bc34b9ba32b73a103a37b5b2b760891b6064820152608401610be6565b600080600b80546118f190612a4d565b90501161198857600a805461190590612a4d565b80601f016020809104026020016040519081016040528092919081815260200182805461193190612a4d565b801561197e5780601f106119535761010080835404028352916020019161197e565b820191906000526020600020905b81548152906001019060200180831161196157829003601f168201915b50505050506115f6565b600b61199384611f41565b6040516020016119a492919061278f565b6040516020818303038152906040529392505050565b6119c2611d16565b8051610dc290600a9060208401906120fe565b6119dd611d16565b601155565b6119ea611d16565b6001600160a01b038116611a4f5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610be6565b6117f781611d70565b611a60611d16565b60005b81811015611b1057846001600160a01b03166323b872dd3086868686818110611a8e57611a8e612ae3565b6040516001600160e01b031960e088901b1681526001600160a01b03958616600482015294909316602485015250602090910201356044820152606401600060405180830381600087803b158015611ae557600080fd5b505af1158015611af9573d6000803e3d6000fd5b505050508080611b0890612a88565b915050611a63565b5050505050565b600080548210801561087d575050600090815260046020526040902054600160e01b161590565b600081600054811015611b8657600081815260046020526040902054600160e01b8116611b84575b806115f6575060001901600081815260046020526040902054611b66565b505b604051636f96cda160e11b815260040160405180910390fd5b815b611bab82846129bf565b811015611b10576000818152600c602052604090205460ff1615611c005760405162461bcd60e51b815260206004820152600c60248201526b125b88189b1858dadb1a5cdd60a21b6044820152606401610be6565b80611c0a81612a88565b915050611ba1565b60005481611c335760405163b562e8dd60e01b815260040160405180910390fd5b611c406000848385611b9f565b6001600160a01b03831660008181526005602090815260408083208054680100000000000000018802019055848352600490915281206001851460e11b4260a01b178317905582840190839083907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8180a4600183015b818114611cef57808360007fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef600080a4600101611cb7565b5081611d0d57604051622e076360e81b815260040160405180910390fd5b60005550505050565b6008546001600160a01b03163314610fa75760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610be6565b600880546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b60408051608081018252600080825260208201819052918101829052606081019190915260008281526004602052604090205461087d9061203e565b600082611e0b8584612085565b14949350505050565b604051630a85bd0160e11b81526000906001600160a01b0385169063150b7a0290611e499033908990889088906004016128b0565b602060405180830381600087803b158015611e6357600080fd5b505af1925050508015611e93575060408051601f3d908101601f19168201909252611e9091810190612635565b60015b611eee573d808015611ec1576040519150601f19603f3d011682016040523d82523d6000602084013e611ec6565b606091505b508051611ee6576040516368d2bf6b60e11b815260040160405180910390fd5b805181602001fd5b6001600160e01b031916630a85bd0160e11b1490505b949350505050565b60408051608081018252600080825260208201819052918101829052606081019190915261087d611f3c83611b3e565b61203e565b606081611f655750506040805180820190915260018152600360fc1b602082015290565b8160005b8115611f8f5780611f7981612a88565b9150611f889050600a836129d7565b9150611f69565b6000816001600160401b03811115611fa957611fa9612af9565b6040519080825280601f01601f191660200182016040528015611fd3576020820181803683370190505b5090505b8415611f0457611fe8600183612a0a565b9150611ff5600a86612aa3565b6120009060306129bf565b60f81b81838151811061201557612015612ae3565b60200101906001600160f81b031916908160001a905350612037600a866129d7565b9450611fd7565b604080516080810182526001600160a01b038316815260a083901c6001600160401b03166020820152600160e01b831615159181019190915260e89190911c606082015290565b600081815b84518110156120ca576120b6828683815181106120a9576120a9612ae3565b60200260200101516120d2565b9150806120c281612a88565b91505061208a565b509392505050565b60008183106120ee5760008281526020849052604090206115f6565b5060009182526020526040902090565b82805461210a90612a4d565b90600052602060002090601f01602090048101928261212c5760008555612172565b82601f1061214557805160ff1916838001178555612172565b82800160010185558215612172579182015b82811115612172578251825591602001919060010190612157565b5061217e929150612182565b5090565b5b8082111561217e5760008155600101612183565b60006001600160401b03808411156121b1576121b1612af9565b604051601f8501601f19908116603f011681019082821181831017156121d9576121d9612af9565b816040528093508581528686860111156121f257600080fd5b858560208301376000602087830101525050509392505050565b60008083601f84011261221e57600080fd5b5081356001600160401b0381111561223557600080fd5b6020830191508360208260051b850101111561225057600080fd5b9250929050565b60006020828403121561226957600080fd5b81356115f681612b0f565b6000806040838503121561228757600080fd5b823561229281612b0f565b915060208301356122a281612b0f565b809150509250929050565b600080600080606085870312156122c357600080fd5b84356122ce81612b0f565b935060208501356122de81612b0f565b925060408501356001600160401b038111156122f957600080fd5b6123058782880161220c565b95989497509550505050565b60008060008060008060008060a0898b03121561232d57600080fd5b883561233881612b0f565b9750602089013561234881612b0f565b965060408901356001600160401b038082111561236457600080fd5b6123708c838d0161220c565b909850965060608b013591508082111561238957600080fd5b6123958c838d0161220c565b909650945060808b01359150808211156123ae57600080fd5b818b0191508b601f8301126123c257600080fd5b8135818111156123d157600080fd5b8c60208285010111156123e357600080fd5b6020830194508093505050509295985092959890939650565b60008060006060848603121561241157600080fd5b833561241c81612b0f565b9250602084013561242c81612b0f565b929592945050506040919091013590565b6000806000806080858703121561245357600080fd5b843561245e81612b0f565b9350602085013561246e81612b0f565b92506040850135915060608501356001600160401b0381111561249057600080fd5b8501601f810187136124a157600080fd5b6124b087823560208401612197565b91505092959194509250565b600080604083850312156124cf57600080fd5b82356124da81612b0f565b915060208301356122a281612b24565b600080604083850312156124fd57600080fd5b823561250881612b0f565b946020939093013593505050565b60008060006060848603121561252b57600080fd5b833561253681612b0f565b95602085013595506040909401359392505050565b6000806020838503121561255e57600080fd5b82356001600160401b0381111561257457600080fd5b6125808582860161220c565b90969095509350505050565b6000806000604084860312156125a157600080fd5b83356001600160401b038111156125b757600080fd5b6125c38682870161220c565b90945092505060208401356125d781612b24565b809150509250925092565b6000602082840312156125f457600080fd5b81516115f681612b24565b60006020828403121561261157600080fd5b5035919050565b60006020828403121561262a57600080fd5b81356115f681612b32565b60006020828403121561264757600080fd5b81516115f681612b32565b60006020828403121561266457600080fd5b81356001600160401b0381111561267a57600080fd5b8201601f8101841361268b57600080fd5b611f0484823560208401612197565b6000602082840312156126ac57600080fd5b5051919050565b600080604083850312156126c657600080fd5b50508035926020909101359150565b81835260006001600160fb1b038311156126ee57600080fd5b8260051b8083602087013760009401602001938452509192915050565b60008151808452612723816020860160208601612a21565b601f01601f19169290920160200192915050565b60008151612749818560208601612a21565b9290920192915050565b80516001600160a01b031682526020808201516001600160401b03169083015260408082015115159083015260609081015162ffffff16910152565b600080845481600182811c9150808316806127ab57607f831692505b60208084108214156127cb57634e487b7160e01b86526022600452602486fd5b8180156127df57600181146127f05761281d565b60ff1986168952848901965061281d565b60008b81526020902060005b868110156128155781548b8201529085019083016127fc565b505084890196505b50505050505061282d8185612737565b95945050505050565b6001600160a01b0389811682528816602082015260a060408201819052600090612863908301888a6126d5565b82810360608401526128768187896126d5565b90508281036080840152838152838560208301376000602085830101526020601f19601f8601168201019150509998505050505050505050565b6001600160a01b03858116825284166020820152604081018390526080606082018190526000906128e39083018461270b565b9695505050505050565b6020808252825182820181905260009190848201906040850190845b818110156110ac5761291c838551612753565b9284019260809290920191600101612909565b6020808252825182820181905260009190848201906040850190845b818110156110ac5783518352928401929184019160010161294b565b6020815260006115f6602083018461270b565b60208082526019908201527f4d757374206c6f776572207468616e206d6178537570706c7900000000000000604082015260600190565b6080810161087d8284612753565b600082198211156129d2576129d2612ab7565b500190565b6000826129e6576129e6612acd565b500490565b6000816000190483118215151615612a0557612a05612ab7565b500290565b600082821015612a1c57612a1c612ab7565b500390565b60005b83811015612a3c578181015183820152602001612a24565b838111156117635750506000910152565b600181811c90821680612a6157607f821691505b60208210811415612a8257634e487b7160e01b600052602260045260246000fd5b50919050565b6000600019821415612a9c57612a9c612ab7565b5060010190565b600082612ab257612ab2612acd565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b03811681146117f757600080fd5b80151581146117f757600080fd5b6001600160e01b0319811681146117f757600080fdfea2646970667358221220243d67e2d4e6f522d2740868bf7825602e1a4bc64ee8947b47fe093579687ec864736f6c63430008070033