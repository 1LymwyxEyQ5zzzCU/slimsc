60806040526004361061023b5760003560e01c80637e78fe821161012e578063c21b471b116100ab578063de836ebd1161006f578063de836ebd146106de578063e985e9c5146106fe578063ef70aebf1461071e578063f2fde38b14610733578063fbc33d711461075357600080fd5b8063c21b471b14610630578063c87b56dd14610650578063ce7a0d0b14610670578063d1232edf14610685578063d8be276a146106b557600080fd5b8063a22cb465116100f2578063a22cb465146105a3578063b64b21ca146105c3578063b80f55c9146105e3578063b88d4fde14610603578063bbc8a0f11461061657600080fd5b80637e78fe82146105045780638da5cb5b146105245780638dd5abc71461054257806395d89b411461056f5780639d2bc6db1461058457600080fd5b80632a55205a116101bc5780636b3531d2116101805780636b3531d21461046e5780636c0360eb1461049a57806370a08231146104af578063715018a6146104cf578063729ad39e146104e457600080fd5b80632a55205a146103c257806342842e0e146104015780635183022714610414578063558a72971461042e5780636352211e1461044e57600080fd5b806313e7c9d81161020357806313e7c9d8146103045780631658747c1461033457806318160ddd146103625780631c348dd31461037f57806323b872dd146103af57600080fd5b806301ffc9a71461024057806306fdde0314610275578063081812fc14610297578063095ea7b3146102cf5780630d60a379146102e4575b600080fd5b34801561024c57600080fd5b5061026061025b366004611c2f565b610768565b60405190151581526020015b60405180910390f35b34801561028157600080fd5b5061028a610788565b60405161026c9190611c9c565b3480156102a357600080fd5b506102b76102b2366004611caf565b61081a565b6040516001600160a01b03909116815260200161026c565b6102e26102dd366004611ce4565b61085e565b005b3480156102f057600080fd5b506102e26102ff366004611d53565b6108fe565b34801561031057600080fd5b5061026061031f366004611dbf565b600b6020526000908152604090205460ff1681565b34801561034057600080fd5b5061035461034f366004611caf565b610a90565b60405190815260200161026c565b34801561036e57600080fd5b506002546001540360001901610354565b34801561038b57600080fd5b5061026061039a366004611caf565b60106020526000908152604090205460ff1681565b6102e26103bd366004611dda565b610ae8565b3480156103ce57600080fd5b506103e26103dd366004611e16565b610c79565b604080516001600160a01b03909316835260208301919091520161026c565b6102e261040f366004611dda565b610d27565b34801561042057600080fd5b50600e546102609060ff1681565b34801561043a57600080fd5b506102e2610449366004611e48565b610d47565b34801561045a57600080fd5b506102b7610469366004611caf565b610d7a565b34801561047a57600080fd5b506102e2336000908152601160205260409020805460ff19166001179055565b3480156104a657600080fd5b5061028a610d85565b3480156104bb57600080fd5b506103546104ca366004611dbf565b610e13565b3480156104db57600080fd5b506102e2610e62565b3480156104f057600080fd5b506102e26104ff366004611e7b565b610e76565b34801561051057600080fd5b50600c546102609062010000900460ff1681565b34801561053057600080fd5b506000546001600160a01b03166102b7565b34801561054e57600080fd5b5061035461055d366004611caf565b600f6020526000908152604090205481565b34801561057b57600080fd5b5061028a610fcf565b34801561059057600080fd5b50600c5461026090610100900460ff1681565b3480156105af57600080fd5b506102e26105be366004611e48565b610fde565b3480156105cf57600080fd5b506102e26105de366004611f49565b61104a565b3480156105ef57600080fd5b506102e26105fe366004611e7b565b611073565b6102e2610611366004611fa2565b6111b9565b34801561062257600080fd5b50600c546102609060ff1681565b34801561063c57600080fd5b506102e261064b36600461201e565b611203565b34801561065c57600080fd5b5061028a61066b366004611caf565b611219565b34801561067c57600080fd5b506102e26112e0565b34801561069157600080fd5b506102606106a0366004611dbf565b60116020526000908152604090205460ff1681565b3480156106c157600080fd5b506102e2336000908152601160205260409020805460ff19169055565b3480156106ea57600080fd5b506102e26106f9366004612061565b6112fb565b34801561070a57600080fd5b506102606107193660046120b4565b6113dc565b34801561072a57600080fd5b506102e261140a565b34801561073f57600080fd5b506102e261074e366004611dbf565b611421565b34801561075f57600080fd5b506102e261149a565b6000610773826114b3565b80610782575061078282611501565b92915050565b606060038054610797906120de565b80601f01602080910402602001604051908101604052809291908181526020018280546107c3906120de565b80156108105780601f106107e557610100808354040283529160200191610810565b820191906000526020600020905b8154815290600101906020018083116107f357829003601f168201915b5050505050905090565b600061082582611536565b610842576040516333d1c03960e21b815260040160405180910390fd5b506000908152600760205260409020546001600160a01b031690565b600061086982610d7a565b9050336001600160a01b038216146108a25761088581336113dc565b6108a2576040516367d9dca160e11b815260040160405180910390fd5b60008281526007602052604080822080546001600160a01b0319166001600160a01b0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b336000908152600b602052604090205460ff166109365760405162461bcd60e51b815260040161092d90612118565b60405180910390fd5b600c5462010000900460ff161561098f5760405162461bcd60e51b815260206004820152601b60248201527f50726f6d6f74696e672068617320656e64656420666f72657665720000000000604482015260640161092d565b60005b83811015610a4c5760008585838181106109ae576109ae61214f565b60209081029290920135600081815260109093526040909220549192505060ff1615610a0e5760405162461bcd60e51b815260206004820152600f60248201526e151bdad95b881a5cc8189d5c9b9959608a1b604482015260640161092d565b610a178161156b565b610a3981858585818110610a2d57610a2d61214f565b9050602002013561157c565b5080610a448161217b565b915050610992565b507fcfc3a98ef33ecf1e133ea43ec5ffc8a4b5e95096fca8465f0998f966595d6f4984848484604051610a8294939291906121c6565b60405180910390a150505050565b600080600f81610aa160408661220e565b81526020019081526020016000205490506000604084610ac19190612222565b610acc906004612236565b9050600f82821c16610adf81600161224d565b95945050505050565b6000610af382611658565b9050836001600160a01b0316816001600160a01b031614610b265760405162a1148160e81b815260040160405180910390fd5b60008281526007602052604090208054610b528187335b6001600160a01b039081169116811491141790565b610b7d57610b6086336113dc565b610b7d57604051632ce44b5f60e11b815260040160405180910390fd5b6001600160a01b038516610ba457604051633a954ecd60e21b815260040160405180910390fd5b8015610baf57600082555b6001600160a01b038681166000908152600660205260408082208054600019019055918716808252919020805460010190554260a01b17600160e11b17600085815260056020526040812091909155600160e11b84169003610c4157600184016000818152600560205260408120549003610c3f576001548114610c3f5760008181526005602052604090208490555b505b83856001600160a01b0316876001600160a01b03166000805160206124ff83398151915260405160405180910390a45b505050505050565b6000828152600a602090815260408083208151808301909252546001600160a01b038116808352600160a01b9091046001600160601b0316928201929092528291610cee5750604080518082019091526009546001600160a01b0381168252600160a01b90046001600160601b031660208201525b602081015160009061271090610d0d906001600160601b031687612236565b610d17919061220e565b91519350909150505b9250929050565b610d42838383604051806020016040528060008152506111b9565b505050565b610d4f6116c7565b6001600160a01b03919091166000908152600b60205260409020805460ff1916911515919091179055565b600061078282611658565b600d8054610d92906120de565b80601f0160208091040260200160405190810160405280929190818152602001828054610dbe906120de565b8015610e0b5780601f10610de057610100808354040283529160200191610e0b565b820191906000526020600020905b815481529060010190602001808311610dee57829003601f168201915b505050505081565b60006001600160a01b038216610e3c576040516323d3ad8160e21b815260040160405180910390fd5b506001600160a01b031660009081526006602052604090205467ffffffffffffffff1690565b610e6a6116c7565b610e746000611721565b565b610e7e6116c7565b600c5460ff1615610ecd5760405162461bcd60e51b815260206004820152601960248201527826b4b73a34b733903430b99032b73232b2103337b932bb32b960391b604482015260640161092d565b80610f0c5760405162461bcd60e51b815260206004820152600f60248201526e456d7074792061646472657373657360881b604482015260640161092d565b600080600080610f1b60015490565b905060005b85811015610fc457868682818110610f3a57610f3a61214f565b9050602002016020810190610f4f9190611dbf565b9350846001600160a01b0316846001600160a01b031614610f87578215610f7f57610f7a8584611771565b600092505b839450610fa4565b610fa4610f94828461224d565b610f9f85600161224d565b61157c565b82610fae8161217b565b9350508080610fbc9061217b565b915050610f20565b50610c718383611771565b606060048054610797906120de565b3360008181526008602090815260408083206001600160a01b03871680855290835292819020805460ff191686151590811790915590519081529192917f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a35050565b6110526116c7565b600d61105e83826122a6565b50600e805460ff191691151591909117905550565b336000908152600b602052604090205460ff166110a25760405162461bcd60e51b815260040161092d90612118565b600c54610100900460ff16156110fa5760405162461bcd60e51b815260206004820152601960248201527f4275726e696e672068617320656e64656420666f726576657200000000000000604482015260640161092d565b60005b81811015610d425760008383838181106111195761111961214f565b60209081029290920135600081815260109093526040909220549192505060ff16156111795760405162461bcd60e51b815260206004820152600f60248201526e151bdad95b881a5cc8189d5c9b9959608a1b604482015260640161092d565b6111828161156b565b6000818152601060205260408120805460ff191660011790556111a690829061184b565b50806111b18161217b565b9150506110fd565b6111c4848484610ae8565b6001600160a01b0383163b156111fd576111e084848484611984565b6111fd576040516368d2bf6b60e11b815260040160405180910390fd5b50505050565b61120b6116c7565b6112158282611a6f565b5050565b60008181526010602052604090205460609060ff161561125b57600d60405160200161124591906123d9565b6040516020818303038152906040529050919050565b600061126683610a90565b600e5490915060ff166112a357600d61127e82611b6c565b60405160200161128f929190612400565b6040516020818303038152906040526112d9565b600d6112ae82611b6c565b6112b785611b6c565b6040516020016112c993929190612435565b6040516020818303038152906040525b9392505050565b6112e86116c7565b600c805462ff0000191662010000179055565b336000908152600b602052604090205460ff1661132a5760405162461bcd60e51b815260040161092d90612118565b600c5460ff16156113795760405162461bcd60e51b815260206004820152601960248201527826b4b73a34b733903430b99032b73232b2103337b932bb32b960391b604482015260640161092d565b61138283611bb0565b600061138d60015490565b90506113998483611771565b60005b828110156113d5576113c36113b1828461224d565b858584818110610a2d57610a2d61214f565b806113cd8161217b565b91505061139c565b5050505050565b6001600160a01b03918216600090815260086020908152604080832093909416825291909152205460ff1690565b6114126116c7565b600c805460ff19166001179055565b6114296116c7565b6001600160a01b03811661148e5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b606482015260840161092d565b61149781611721565b50565b6114a26116c7565b600c805461ff001916610100179055565b60006301ffc9a760e01b6001600160e01b0319831614806114e457506380ac58cd60e01b6001600160e01b03198316145b806107825750506001600160e01b031916635b5e139f60e01b1490565b60006001600160e01b0319821663152a902d60e11b148061078257506301ffc9a760e01b6001600160e01b0319831614610782565b60008160011115801561154a575060015482105b8015610782575050600090815260056020526040902054600160e01b161590565b61149761157782610d7a565b611bb0565b6115858161248d565b905080600003611593575050565b601081106115d85760405162461bcd60e51b8152602060048201526012602482015271125b9d985b1a590819195c185c9d1b595b9d60721b604482015260640161092d565b60006115e5604084612222565b6115f0906004612236565b600f901b9050611601604084612222565b61160c906004612236565b82901b8119600f600061162060408861220e565b8152602001908152602001600020541617600f6000604086611642919061220e565b8152602081019190915260400160002055505050565b600081806001116116ae576001548110156116ae5760008181526005602052604081205490600160e01b821690036116ac575b806000036112d957506000190160008181526005602052604090205461168b565b505b604051636f96cda160e11b815260040160405180910390fd5b6000546001600160a01b03163314610e745760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640161092d565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60015460008290036117965760405163b562e8dd60e01b815260040160405180910390fd5b6001600160a01b03831660008181526006602090815260408083208054680100000000000000018802019055848352600590915281206001851460e11b4260a01b178317905582840190839083906000805160206124ff8339815191528180a4600183015b81811461182157808360006000805160206124ff833981519152600080a46001016117fb565b508160000361184257604051622e076360e81b815260040160405180910390fd5b60015550505050565b600061185683611658565b90508060008061187486600090815260076020526040902080549091565b9150915084156118b457611889818433610b3d565b6118b45761189783336113dc565b6118b457604051632ce44b5f60e11b815260040160405180910390fd5b80156118bf57600082555b6001600160a01b038316600081815260066020526040902080546fffffffffffffffffffffffffffffffff0190554260a01b17600360e01b17600087815260056020526040812091909155600160e11b8516900361194d5760018601600081815260056020526040812054900361194b57600154811461194b5760008181526005602052604090208590555b505b60405186906000906001600160a01b038616906000805160206124ff833981519152908390a4505060028054600101905550505050565b604051630a85bd0160e11b81526000906001600160a01b0385169063150b7a02906119b99033908990889088906004016124a4565b6020604051808303816000875af19250505080156119f4575060408051601f3d908101601f191682019092526119f1918101906124e1565b60015b611a52573d808015611a22576040519150601f19603f3d011682016040523d82523d6000602084013e611a27565b606091505b508051600003611a4a576040516368d2bf6b60e11b815260040160405180910390fd5b805181602001fd5b6001600160e01b031916630a85bd0160e11b149050949350505050565b6127106001600160601b0382161115611add5760405162461bcd60e51b815260206004820152602a60248201527f455243323938313a20726f79616c7479206665652077696c6c206578636565646044820152692073616c65507269636560b01b606482015260840161092d565b6001600160a01b038216611b335760405162461bcd60e51b815260206004820152601960248201527f455243323938313a20696e76616c696420726563656976657200000000000000604482015260640161092d565b604080518082019091526001600160a01b039092168083526001600160601b039091166020909201829052600160a01b90910217600955565b606060a06040510180604052602081039150506000815280825b600183039250600a81066030018353600a900480611b865750819003601f19909101908152919050565b6001600160a01b03811660009081526011602052604090205460ff16156114975760405162461bcd60e51b815260206004820152601960248201527f486f6c6465722064697361626c6564206f70657261746f727300000000000000604482015260640161092d565b6001600160e01b03198116811461149757600080fd5b600060208284031215611c4157600080fd5b81356112d981611c19565b60005b83811015611c67578181015183820152602001611c4f565b50506000910152565b60008151808452611c88816020860160208601611c4c565b601f01601f19169290920160200192915050565b6020815260006112d96020830184611c70565b600060208284031215611cc157600080fd5b5035919050565b80356001600160a01b0381168114611cdf57600080fd5b919050565b60008060408385031215611cf757600080fd5b611d0083611cc8565b946020939093013593505050565b60008083601f840112611d2057600080fd5b50813567ffffffffffffffff811115611d3857600080fd5b6020830191508360208260051b8501011115610d2057600080fd5b60008060008060408587031215611d6957600080fd5b843567ffffffffffffffff80821115611d8157600080fd5b611d8d88838901611d0e565b90965094506020870135915080821115611da657600080fd5b50611db387828801611d0e565b95989497509550505050565b600060208284031215611dd157600080fd5b6112d982611cc8565b600080600060608486031215611def57600080fd5b611df884611cc8565b9250611e0660208501611cc8565b9150604084013590509250925092565b60008060408385031215611e2957600080fd5b50508035926020909101359150565b80358015158114611cdf57600080fd5b60008060408385031215611e5b57600080fd5b611e6483611cc8565b9150611e7260208401611e38565b90509250929050565b60008060208385031215611e8e57600080fd5b823567ffffffffffffffff811115611ea557600080fd5b611eb185828601611d0e565b90969095509350505050565b634e487b7160e01b600052604160045260246000fd5b600067ffffffffffffffff80841115611eee57611eee611ebd565b604051601f8501601f19908116603f01168101908282118183101715611f1657611f16611ebd565b81604052809350858152868686011115611f2f57600080fd5b858560208301376000602087830101525050509392505050565b60008060408385031215611f5c57600080fd5b823567ffffffffffffffff811115611f7357600080fd5b8301601f81018513611f8457600080fd5b611f9385823560208401611ed3565b925050611e7260208401611e38565b60008060008060808587031215611fb857600080fd5b611fc185611cc8565b9350611fcf60208601611cc8565b925060408501359150606085013567ffffffffffffffff811115611ff257600080fd5b8501601f8101871361200357600080fd5b61201287823560208401611ed3565b91505092959194509250565b6000806040838503121561203157600080fd5b61203a83611cc8565b915060208301356001600160601b038116811461205657600080fd5b809150509250929050565b60008060006040848603121561207657600080fd5b61207f84611cc8565b9250602084013567ffffffffffffffff81111561209b57600080fd5b6120a786828701611d0e565b9497909650939450505050565b600080604083850312156120c757600080fd5b6120d083611cc8565b9150611e7260208401611cc8565b600181811c908216806120f257607f821691505b60208210810361211257634e487b7160e01b600052602260045260246000fd5b50919050565b60208082526019908201527f43616c6c6572206973206e6f7420616e206f70657261746f7200000000000000604082015260600190565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b60006001820161218d5761218d612165565b5060010190565b81835260006001600160fb1b038311156121ad57600080fd5b8260051b80836020870137939093016020019392505050565b6040815260006121da604083018688612194565b82810360208401526121ed818587612194565b979650505050505050565b634e487b7160e01b600052601260045260246000fd5b60008261221d5761221d6121f8565b500490565b600082612231576122316121f8565b500690565b808202811582820484141761078257610782612165565b8082018082111561078257610782612165565b601f821115610d4257600081815260208120601f850160051c810160208610156122875750805b601f850160051c820191505b81811015610c7157828155600101612293565b815167ffffffffffffffff8111156122c0576122c0611ebd565b6122d4816122ce84546120de565b84612260565b602080601f83116001811461230957600084156122f15750858301515b600019600386901b1c1916600185901b178555610c71565b600085815260208120601f198616915b8281101561233857888601518255948401946001909101908401612319565b50858210156123565787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60008154612373816120de565b6001828116801561238b57600181146123a0576123cf565b60ff19841687528215158302870194506123cf565b8560005260208060002060005b858110156123c65781548a8201529084019082016123ad565b50505082870194505b5050505092915050565b60006123e58284612366565b6a313ab93732b2173539b7b760a91b8152600b019392505050565b600061240c8285612366565b835161241c818360208801611c4c565b64173539b7b760d91b9101908152600501949350505050565b60006124418286612366565b8451612451818360208901611c4c565b602d60f81b9101908152835161246e816001840160208801611c4c565b64173539b7b760d91b6001929091019182015260060195945050505050565b60008161249c5761249c612165565b506000190190565b6001600160a01b03858116825284166020820152604081018390526080606082018190526000906124d790830184611c70565b9695505050505050565b6000602082840312156124f357600080fd5b81516112d981611c1956feddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3efa2646970667358221220a8a46c1a7fa9e2026df381fe79dcac68dd56805791986ef9a5ed55dddf44ae4f64736f6c63430008130033