608060405234801561001057600080fd5b506004361061018d5760003560e01c80638135369a116100e3578063bc157ac11161008c578063f2fde38b11610066578063f2fde38b146103a3578063f9eaee0d146103b6578063fda49eb4146103e257600080fd5b8063bc157ac11461036a578063c45a01551461037d578063e79767af1461039057600080fd5b8063a4d45dd0116100bd578063a4d45dd014610331578063b460af9414610344578063b53472ef1461035757600080fd5b80638135369a146102dc5780638456cb59146102ff5780638da5cb5b1461030757600080fd5b80635c975abb11610145578063671d64291161011f578063671d64291461028b578063715018a61461029e578063800102e4146102a657600080fd5b80635c975abb146102365780635f0f48bd1461024d57806365d69bb21461026057600080fd5b8063485cc95511610176578063485cc955146101e55780634a198fa1146101f85780634d1f5fd01461020b57600080fd5b80633656eec2146101925780633f4ba83a146101db575b600080fd5b6101c86101a0366004611407565b60009182526003602090815260408084206001600160a01b0393909316845291905290205490565b6040519081526020015b60405180910390f35b6101e36103f5565b005b6101e36101f3366004611447565b610407565b6101e36102063660046114c1565b61049b565b6101c8610219366004611407565b600360209081526000928352604080842090915290825290205481565b60005460ff165b60405190151581526020016101d2565b6101e361025b366004611520565b610596565b6101c861026e366004611407565b600460209081526000928352604080842090915290825290205481565b6101e361029936600461155f565b6105b8565b6101e3610693565b6101c86102b4366004611407565b60009182526004602090815260408084206001600160a01b0393909316845291905290205490565b61023d6102ea36600461155f565b60056020526000908152604090205460ff1681565b6101e36106a5565b60005461010090046001600160a01b03165b6040516001600160a01b0390911681526020016101d2565b6101e361033f366004611599565b6106b5565b6101e361035236600461169e565b6106d2565b6101e361036536600461155f565b610711565b6101e36103783660046116e0565b610765565b600154610319906001600160a01b031681565b6101e361039e36600461155f565b610a31565b6101e36103b136600461155f565b610a82565b61023d6103c436600461155f565b6001600160a01b031660009081526005602052604090205460ff1690565b600254610319906001600160a01b031681565b6103fd610b12565b610405610b72565b565b6001546001600160a01b031633146104665760405162461bcd60e51b815260206004820152600960248201527f466f7262696464656e000000000000000000000000000000000000000000000060448201526064015b60405180910390fd5b6002805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03831617905561049782610a82565b5050565b6104a3610bc4565b6104ab610c17565b60008267ffffffffffffffff8111156104c6576104c6611583565b6040519080825280602002602001820160405280156104ef578160200160208202803683370190505b50905060005b838110156105815760008681526003602052604081209086868481811061051e5761051e611718565b9050602002016020810190610533919061155f565b6001600160a01b03166001600160a01b031681526020019081526020016000205482828151811061056657610566611718565b602090810291909101015261057a81611744565b90506104f5565b5061058f8585858486610c71565b5050505050565b61059e610bc4565b6105a6610c17565b6105b284848484610d63565b50505050565b6105c0610b12565b6001600160a01b03811661063c5760405162461bcd60e51b815260206004820152602a60248201527f5472656173757265722061646472657373206d757374206e6f74206265206e7560448201527f6c6c206164647265737300000000000000000000000000000000000000000000606482015260840161045d565b6002805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040517fb960d21a40e1e9192ff378717d1040cc2afeeed3169aff1cb0e07bba6be47dc190600090a250565b61069b610b12565b6104056000610efe565b6106ad610b12565b610405610f6e565b6106bd610bc4565b6106c5610c17565b61058f8585858585610c71565b6106da610bc4565b6106e2610c17565b60008381526003602090815260408083206001600160a01b03861684529091529020546105b284848385610d63565b610719610b12565b6001600160a01b038116600081815260056020526040808220805460ff19166001179055517f14009112f2dcb15cad32dab6bf972d6d85286e4ae1178f27323ffe25359459e69190a250565b61076d610bc4565b8161077781610fab565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815233600482015282906001600160a01b038516906370a082319060240160206040518083038186803b1580156107d157600080fd5b505afa1580156107e5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610809919061175f565b101561087f576040805162461bcd60e51b81526020600482015260248101919091527f596f757220746f6b656e20616d6f756e74206d7573742062652067726561746560448201527f72207468656e20796f752061726520747279696e6720746f206465706f736974606482015260840161045d565b6040517fdd62ed3e00000000000000000000000000000000000000000000000000000000815233600482015230602482015282906001600160a01b0385169063dd62ed3e9060440160206040518083038186803b1580156108df57600080fd5b505afa1580156108f3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610917919061175f565b10156109655760405162461bcd60e51b815260206004820152601560248201527f417070726f766520746f6b656e73206669727374210000000000000000000000604482015260640161045d565b61097a6001600160a01b038416333085611018565b60008481526003602090815260408083206001600160a01b0387168452909152812080548492906109ac908490611778565b909155505060008481526004602090815260408083206001600160a01b0387168452909152812080548492906109e3908490611778565b909155505060405182815233906001600160a01b0385169086907f05e57fa62d890603d85944c963ddc7fbe77cde5ea69cad7033fc6f76b7ddd2ab906020015b60405180910390a450505050565b610a39610b12565b6001600160a01b038116600081815260056020526040808220805460ff19169055517f0ea8fbb1a70b45f7b0b3074e314f8b420f8a6ea6595b4b872bd47e75dbdc04d59190a250565b610a8a610b12565b6001600160a01b038116610b065760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f6464726573730000000000000000000000000000000000000000000000000000606482015260840161045d565b610b0f81610efe565b50565b6000546001600160a01b036101009091041633146104055760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640161045d565b610b7a6110c9565b6000805460ff191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b6040516001600160a01b03909116815260200160405180910390a1565b60005460ff16156104055760405162461bcd60e51b815260206004820152601060248201527f5061757361626c653a2070617573656400000000000000000000000000000000604482015260640161045d565b6002546001600160a01b031633146104055760405162461bcd60e51b815260206004820152601160248201527f4d75737420626520747265617375726572000000000000000000000000000000604482015260640161045d565b81518314610ce75760405162461bcd60e51b815260206004820152602260248201527f546f6b656e7320616e6420616d6f756e7473206c656e677468206d69736d617460448201527f6368000000000000000000000000000000000000000000000000000000000000606482015260840161045d565b60005b8251811015610d5b576000838281518110610d0757610d07611718565b602002602001015190506000868684818110610d2557610d25611718565b9050602002016020810190610d3a919061155f565b9050610d4888828487610d63565b505080610d5490611744565b9050610cea565b505050505050565b60008211610dd95760405162461bcd60e51b815260206004820152602560248201527f43616e6e6f742077697468647261772061206e6f6e2d706f736974697665206160448201527f6d6f756e74000000000000000000000000000000000000000000000000000000606482015260840161045d565b60008481526003602090815260408083206001600160a01b0387168452909152902054821115610e715760405162461bcd60e51b815260206004820152603160248201527f546f6b656e20616d6f756e74206d75737420626520677265617465722074686160448201527f6e20776974686472617720616d6f756e74000000000000000000000000000000606482015260840161045d565b60008481526003602090815260408083206001600160a01b038716845290915281208054849290610ea3908490611790565b90915550610ebd90506001600160a01b038416828461111b565b6040516001600160a01b038481168252821690839086907fb74e6733b1eee40d5d60495b99d8e13a7170ef32a66e78a3daa7b781dca3467e90602001610a23565b600080546001600160a01b038381166101008181027fffffffffffffffffffffff0000000000000000000000000000000000000000ff851617855560405193049190911692909183917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a35050565b610f76610bc4565b6000805460ff191660011790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258610ba73390565b6001600160a01b03811660009081526005602052604090205460ff161515600114610b0f5760405162461bcd60e51b815260206004820152601560248201527f4d75737420626520616c6c6f77656420746f6b656e0000000000000000000000604482015260640161045d565b6040516001600160a01b03808516602483015283166044820152606481018290526105b29085907f23b872dd00000000000000000000000000000000000000000000000000000000906084015b60408051601f198184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff0000000000000000000000000000000000000000000000000000000090931692909217909152611169565b60005460ff166104055760405162461bcd60e51b815260206004820152601460248201527f5061757361626c653a206e6f7420706175736564000000000000000000000000604482015260640161045d565b6040516001600160a01b0383166024820152604481018290526111649084907fa9059cbb0000000000000000000000000000000000000000000000000000000090606401611065565b505050565b60006111be826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b031661124e9092919063ffffffff16565b80519091501561116457808060200190518101906111dc91906117a7565b6111645760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f74207375636365656400000000000000000000000000000000000000000000606482015260840161045d565b606061125d8484600085611265565b949350505050565b6060824710156112dd5760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f60448201527f722063616c6c0000000000000000000000000000000000000000000000000000606482015260840161045d565b600080866001600160a01b031685876040516112f991906117f5565b60006040518083038185875af1925050503d8060008114611336576040519150601f19603f3d011682016040523d82523d6000602084013e61133b565b606091505b509150915061134c87838387611357565b979650505050505050565b606083156113c35782516113bc576001600160a01b0385163b6113bc5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604482015260640161045d565b508161125d565b61125d83838151156113d85781518083602001fd5b8060405162461bcd60e51b815260040161045d9190611811565b6001600160a01b0381168114610b0f57600080fd5b6000806040838503121561141a57600080fd5b82359150602083013561142c816113f2565b809150509250929050565b8035611442816113f2565b919050565b6000806040838503121561145a57600080fd5b8235611465816113f2565b9150602083013561142c816113f2565b60008083601f84011261148757600080fd5b50813567ffffffffffffffff81111561149f57600080fd5b6020830191508360208260051b85010111156114ba57600080fd5b9250929050565b600080600080606085870312156114d757600080fd5b84359350602085013567ffffffffffffffff8111156114f557600080fd5b61150187828801611475565b9094509250506040850135611515816113f2565b939692955090935050565b6000806000806080858703121561153657600080fd5b843593506020850135611548816113f2565b9250604085013591506060850135611515816113f2565b60006020828403121561157157600080fd5b813561157c816113f2565b9392505050565b634e487b7160e01b600052604160045260246000fd5b6000806000806000608086880312156115b157600080fd5b8535945060208087013567ffffffffffffffff808211156115d157600080fd5b6115dd8a838b01611475565b909750955060408901359150808211156115f657600080fd5b818901915089601f83011261160a57600080fd5b81358181111561161c5761161c611583565b8060051b604051601f19603f8301168101818110858211171561164157611641611583565b60405291825284820192508381018501918c83111561165f57600080fd5b938501935b8285101561167d57843584529385019392850192611664565b80975050505050505061169260608701611437565b90509295509295909350565b6000806000606084860312156116b357600080fd5b8335925060208401356116c5816113f2565b915060408401356116d5816113f2565b809150509250925092565b6000806000606084860312156116f557600080fd5b833592506020840135611707816113f2565b929592945050506040919091013590565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b60006000198214156117585761175861172e565b5060010190565b60006020828403121561177157600080fd5b5051919050565b6000821982111561178b5761178b61172e565b500190565b6000828210156117a2576117a261172e565b500390565b6000602082840312156117b957600080fd5b8151801515811461157c57600080fd5b60005b838110156117e45781810151838201526020016117cc565b838111156105b25750506000910152565b600082516118078184602087016117c9565b9190910192915050565b60208152600082518060208401526118308160408501602087016117c9565b601f01601f1916919091016040019291505056fea264697066735822122085e03ff0c6ee389129efe26f98bd4eb5a535f00ac62c6b99fef40bb1a9f0dcde64736f6c63430008090033