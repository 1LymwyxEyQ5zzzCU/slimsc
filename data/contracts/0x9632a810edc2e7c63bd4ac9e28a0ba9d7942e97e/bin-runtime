60806040526004361061021a5760003560e01c806370a0823111610123578063a0712d68116100ab578063d547cfb71161006f578063d547cfb7146105d1578063d5abeb01146105e6578063e985e9c5146105fc578063efdc77881461061c578063f2fde38b1461063c57600080fd5b8063a0712d6814610548578063a22cb4651461055b578063b88d4fde1461057b578063c6a91b421461059b578063c87b56dd146105b157600080fd5b80638da5cb5b116100f25780638da5cb5b146104c957806395d89b41146104e7578063982d669e146104fc57806398710d1e146105125780639e9fcffc1461052857600080fd5b806370a0823114610467578063715018a6146104875780638bc9a4c61461049c5780638d87caff146104b457600080fd5b80631e84c413116101a65780632fbc0bf1116101755780632fbc0bf1146103dd5780633ccfd60b146103f257806342842e0e1461040757806355f804b3146104275780636352211e1461044757600080fd5b80631e84c41314610363578063202f298a1461037d57806323b872dd1461039d57806328cad13d146103bd57600080fd5b8063095ea7b3116101ed578063095ea7b3146102d25780630a00ae83146102f457806318160ddd146103145780631919fed71461032d578063193ad7b41461034d57600080fd5b806301ffc9a71461021f57806306fdde031461025457806307e89ec014610276578063081812fc1461029a575b600080fd5b34801561022b57600080fd5b5061023f61023a3660046117d7565b61065c565b60405190151581526020015b60405180910390f35b34801561026057600080fd5b506102696106ae565b60405161024b9190611844565b34801561028257600080fd5b5061028c600e5481565b60405190815260200161024b565b3480156102a657600080fd5b506102ba6102b5366004611857565b610740565b6040516001600160a01b03909116815260200161024b565b3480156102de57600080fd5b506102f26102ed36600461188c565b610784565b005b34801561030057600080fd5b506102f261030f366004611857565b610824565b34801561032057600080fd5b506001546000540361028c565b34801561033957600080fd5b506102f2610348366004611857565b610831565b34801561035957600080fd5b5061028c60115481565b34801561036f57600080fd5b50600b5461023f9060ff1681565b34801561038957600080fd5b506102f2610398366004611857565b61083e565b3480156103a957600080fd5b506102f26103b83660046118b6565b61084b565b3480156103c957600080fd5b506102f26103d8366004611902565b6109e4565b3480156103e957600080fd5b50600e5461028c565b3480156103fe57600080fd5b506102f26109ff565b34801561041357600080fd5b506102f26104223660046118b6565b610a74565b34801561043357600080fd5b506102f26104423660046119a9565b610a94565b34801561045357600080fd5b506102ba610462366004611857565b610aac565b34801561047357600080fd5b5061028c6104823660046119f2565b610ab7565b34801561049357600080fd5b506102f2610b06565b3480156104a857600080fd5b50600b5460ff1661023f565b3480156104c057600080fd5b5060115461028c565b3480156104d557600080fd5b506008546001600160a01b03166102ba565b3480156104f357600080fd5b50610269610b1a565b34801561050857600080fd5b5061028c600f5481565b34801561051e57600080fd5b5061028c60105481565b34801561053457600080fd5b506102f2610543366004611857565b610b29565b6102f2610556366004611857565b610b36565b34801561056757600080fd5b506102f2610576366004611a0d565b610eaa565b34801561058757600080fd5b506102f2610596366004611a40565b610f3f565b3480156105a757600080fd5b5061028c600d5481565b3480156105bd57600080fd5b506102696105cc366004611857565b610f89565b3480156105dd57600080fd5b5061026961102a565b3480156105f257600080fd5b5061028c600c5481565b34801561060857600080fd5b5061023f610617366004611abc565b6110b8565b34801561062857600080fd5b506102f2610637366004611857565b6110e6565b34801561064857600080fd5b506102f26106573660046119f2565b61119d565b60006301ffc9a760e01b6001600160e01b03198316148061068d57506380ac58cd60e01b6001600160e01b03198316145b806106a85750635b5e139f60e01b6001600160e01b03198316145b92915050565b6060600280546106bd90611ae6565b80601f01602080910402602001604051908101604052809291908181526020018280546106e990611ae6565b80156107365780601f1061070b57610100808354040283529160200191610736565b820191906000526020600020905b81548152906001019060200180831161071957829003601f168201915b5050505050905090565b600061074b82611213565b610768576040516333d1c03960e21b815260040160405180910390fd5b506000908152600660205260409020546001600160a01b031690565b600061078f82610aac565b9050336001600160a01b038216146107c8576107ab81336110b8565b6107c8576040516367d9dca160e11b815260040160405180910390fd5b60008281526006602052604080822080546001600160a01b0319166001600160a01b0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b61082c61123a565b600f55565b61083961123a565b600e55565b61084661123a565b601055565b600061085682611294565b9050836001600160a01b0316816001600160a01b0316146108895760405162a1148160e81b815260040160405180910390fd5b60008281526006602052604090208054338082146001600160a01b038816909114176108d6576108b986336110b8565b6108d657604051632ce44b5f60e11b815260040160405180910390fd5b6001600160a01b0385166108fd57604051633a954ecd60e21b815260040160405180910390fd5b801561090857600082555b6001600160a01b038681166000908152600560205260408082208054600019019055918716808252919020805460010190554260a01b17600160e11b17600085815260046020526040812091909155600160e11b8416900361099a576001840160008181526004602052604081205490036109985760005481146109985760008181526004602052604090208490555b505b83856001600160a01b0316876001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45b505050505050565b6109ec61123a565b600b805460ff1916911515919091179055565b610a0761123a565b600260095403610a5e5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064015b60405180910390fd5b6002600955610a6d3347611302565b6001600955565b610a8f83838360405180602001604052806000815250610f3f565b505050565b610a9c61123a565b600a610aa88282611b66565b5050565b60006106a882611294565b60006001600160a01b038216610ae0576040516323d3ad8160e21b815260040160405180910390fd5b506001600160a01b031660009081526005602052604090205467ffffffffffffffff1690565b610b0e61123a565b610b18600061141b565b565b6060600380546106bd90611ae6565b610b3161123a565b600d55565b600b5460ff16610b815760405162461bcd60e51b8152602060048201526016602482015275283ab13634b19039b0b6329034b9903830bab9b2b21760511b6044820152606401610a55565b600c54610b8f906001611c3c565b81610b9d6001546000540390565b610ba79190611c3c565b10610bf45760405162461bcd60e51b815260206004820152601860248201527f4d6178696d756d20737570706c792065786365656465642e00000000000000006044820152606401610a55565b600d54811115610c565760405162461bcd60e51b815260206004820152602760248201527f4d6178696d756d206d696e747320706572207472616e73616374696f6e20657860448201526631b2b2b232b21760c91b6064820152608401610a55565b600f5481601154610c679190611c3c565b1115610cdd573481600e54610c7c9190611c4f565b1115610cd85760405162461bcd60e51b815260206004820152602560248201527f496e76616c6964204554482076616c75652073656e742e204572726f7220436f60448201526464653a203160d81b6064820152608401610a55565b610e9d565b6000610ce833610ab7565b601054909150610cf88383611c3c565b1115610e2257601054811015610db257600081601054610d189190611c66565b90506000610d268285611c66565b90503481600e54610d379190611c4f565b1115610d935760405162461bcd60e51b815260206004820152602560248201527f496e76616c6964204554482076616c75652073656e742e204572726f7220436f60448201526432329d101960d91b6064820152608401610a55565b8160116000828254610da59190611c3c565b90915550610e9b92505050565b3482600e54610dc19190611c4f565b1115610e1d5760405162461bcd60e51b815260206004820152602560248201527f496e76616c6964204554482076616c75652073656e742e204572726f7220436f60448201526464653a203360d81b6064820152608401610a55565b610e9b565b601054821115610e835760405162461bcd60e51b815260206004820152602660248201527f4d6178696d756d206d696e747320706572207472616e73616374696f6e20657860448201526518d95959195960d21b6064820152608401610a55565b8160116000828254610e959190611c3c565b90915550505b505b610ea7338261146d565b50565b336001600160a01b03831603610ed35760405163b06307db60e01b815260040160405180910390fd5b3360008181526007602090815260408083206001600160a01b03871680855290835292819020805460ff191686151590811790915590519081529192917f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a35050565b610f4a84848461084b565b6001600160a01b0383163b15610f8357610f6684848484611487565b610f83576040516368d2bf6b60e11b815260040160405180910390fd5b50505050565b6060610f9482611213565b610ff85760405162461bcd60e51b815260206004820152602f60248201527f4552433732314d657461646174613a2055524920717565727920666f72206e6f60448201526e3732bc34b9ba32b73a103a37b5b2b760891b6064820152608401610a55565b600a61100383611573565b604051602001611014929190611c79565b6040516020818303038152906040529050919050565b600a805461103790611ae6565b80601f016020809104026020016040519081016040528092919081815260200182805461106390611ae6565b80156110b05780601f10611085576101008083540402835291602001916110b0565b820191906000526020600020905b81548152906001019060200180831161109357829003601f168201915b505050505081565b6001600160a01b03918216600090815260076020908152604080832093909416825291909152205460ff1690565b6110ee61123a565b600081116111345760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081b5a5b9d08185b5bdd5b9d606a1b6044820152606401610a55565b600c54816111456001546000540390565b61114f9190611c3c565b1115610e9d5760405162461bcd60e51b815260206004820152601760248201527f4d6178696d756d20737570706c792065786365656465640000000000000000006044820152606401610a55565b6111a561123a565b6001600160a01b03811661120a5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610a55565b610ea78161141b565b60008054821080156106a8575050600090815260046020526040902054600160e01b161590565b6008546001600160a01b03163314610b185760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610a55565b6000816000548110156112e95760008181526004602052604081205490600160e01b821690036112e7575b806000036112e05750600019016000818152600460205260409020546112bf565b9392505050565b505b604051636f96cda160e11b815260040160405180910390fd5b804710156113525760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a20696e73756666696369656e742062616c616e63650000006044820152606401610a55565b6000826001600160a01b03168260405160006040518083038185875af1925050503d806000811461139f576040519150601f19603f3d011682016040523d82523d6000602084013e6113a4565b606091505b5050905080610a8f5760405162461bcd60e51b815260206004820152603a60248201527f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260448201527f6563697069656e74206d617920686176652072657665727465640000000000006064820152608401610a55565b600880546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b610aa8828260405180602001604052806000815250611674565b604051630a85bd0160e11b81526000906001600160a01b0385169063150b7a02906114bc903390899088908890600401611d0d565b6020604051808303816000875af19250505080156114f7575060408051601f3d908101601f191682019092526114f491810190611d4a565b60015b611555573d808015611525576040519150601f19603f3d011682016040523d82523d6000602084013e61152a565b606091505b50805160000361154d576040516368d2bf6b60e11b815260040160405180910390fd5b805181602001fd5b6001600160e01b031916630a85bd0160e11b1490505b949350505050565b60608160000361159a5750506040805180820190915260018152600360fc1b602082015290565b8160005b81156115c457806115ae81611d67565b91506115bd9050600a83611d96565b915061159e565b60008167ffffffffffffffff8111156115df576115df61191d565b6040519080825280601f01601f191660200182016040528015611609576020820181803683370190505b5090505b841561156b5761161e600183611c66565b915061162b600a86611daa565b611636906030611c3c565b60f81b81838151811061164b5761164b611dbe565b60200101906001600160f81b031916908160001a90535061166d600a86611d96565b945061160d565b61167e83836116e1565b6001600160a01b0383163b15610a8f576000548281035b6116a86000868380600101945086611487565b6116c5576040516368d2bf6b60e11b815260040160405180910390fd5b8181106116955781600054146116da57600080fd5b5050505050565b6000546001600160a01b03831661170a57604051622e076360e81b815260040160405180910390fd5b8160000361172b5760405163b562e8dd60e01b815260040160405180910390fd5b6001600160a01b038316600081815260056020526040902080546801000000000000000185020190554260a01b6001841460e11b1717600082815260046020526040902055808281015b6040516001830192906001600160a01b038716906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a48082106117755760005550505050565b6001600160e01b031981168114610ea757600080fd5b6000602082840312156117e957600080fd5b81356112e0816117c1565b60005b8381101561180f5781810151838201526020016117f7565b50506000910152565b600081518084526118308160208601602086016117f4565b601f01601f19169290920160200192915050565b6020815260006112e06020830184611818565b60006020828403121561186957600080fd5b5035919050565b80356001600160a01b038116811461188757600080fd5b919050565b6000806040838503121561189f57600080fd5b6118a883611870565b946020939093013593505050565b6000806000606084860312156118cb57600080fd5b6118d484611870565b92506118e260208501611870565b9150604084013590509250925092565b8035801515811461188757600080fd5b60006020828403121561191457600080fd5b6112e0826118f2565b634e487b7160e01b600052604160045260246000fd5b600067ffffffffffffffff8084111561194e5761194e61191d565b604051601f8501601f19908116603f011681019082821181831017156119765761197661191d565b8160405280935085815286868601111561198f57600080fd5b858560208301376000602087830101525050509392505050565b6000602082840312156119bb57600080fd5b813567ffffffffffffffff8111156119d257600080fd5b8201601f810184136119e357600080fd5b61156b84823560208401611933565b600060208284031215611a0457600080fd5b6112e082611870565b60008060408385031215611a2057600080fd5b611a2983611870565b9150611a37602084016118f2565b90509250929050565b60008060008060808587031215611a5657600080fd5b611a5f85611870565b9350611a6d60208601611870565b925060408501359150606085013567ffffffffffffffff811115611a9057600080fd5b8501601f81018713611aa157600080fd5b611ab087823560208401611933565b91505092959194509250565b60008060408385031215611acf57600080fd5b611ad883611870565b9150611a3760208401611870565b600181811c90821680611afa57607f821691505b602082108103611b1a57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610a8f57600081815260208120601f850160051c81016020861015611b475750805b601f850160051c820191505b818110156109dc57828155600101611b53565b815167ffffffffffffffff811115611b8057611b8061191d565b611b9481611b8e8454611ae6565b84611b20565b602080601f831160018114611bc95760008415611bb15750858301515b600019600386901b1c1916600185901b1785556109dc565b600085815260208120601f198616915b82811015611bf857888601518255948401946001909101908401611bd9565b5085821015611c165787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052601160045260246000fd5b808201808211156106a8576106a8611c26565b80820281158282048414176106a8576106a8611c26565b818103818111156106a8576106a8611c26565b6000808454611c8781611ae6565b60018281168015611c9f5760018114611cb457611ce3565b60ff1984168752821515830287019450611ce3565b8860005260208060002060005b85811015611cda5781548a820152908401908201611cc1565b50505082870194505b50602f60f81b845286519250611cff8382860160208a016117f4565b919092010195945050505050565b6001600160a01b0385811682528416602082015260408101839052608060608201819052600090611d4090830184611818565b9695505050505050565b600060208284031215611d5c57600080fd5b81516112e0816117c1565b600060018201611d7957611d79611c26565b5060010190565b634e487b7160e01b600052601260045260246000fd5b600082611da557611da5611d80565b500490565b600082611db957611db9611d80565b500690565b634e487b7160e01b600052603260045260246000fdfea2646970667358221220e34f5343ee69aece7379cefa25261f9f61c56fd90778c7e0e285cb2d7ed1f60564736f6c63430008120033